<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>My Bookings</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>
        body {
            background: #f5f7fa;
            font-family: 'Poppins', sans-serif;
        }

        .booking-card {
            border-radius: 15px;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            overflow: hidden;
            background: white;
            transition: transform 0.3s ease;
        }

        .booking-card:hover {
            transform: translateY(-6px);
        }

        .header {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            padding: 15px 20px;
        }

        .badge-seat {
            background: #f1f1f1;
            color: #333;
            border-radius: 6px;
            padding: 4px 8px;
            margin-right: 5px;
            font-size: 0.85rem;
        }

        .qr img {
            max-width: 120px;
        }
    </style>
</head>

<body>

<div align="center" class="container py-5">

    <h2 class="text-center fw-bold mb-4">ðŸŽŸ My Bookings</h2>

    <!-- No Bookings -->
    <div th:if="${bookings.isEmpty()}" class="alert alert-warning text-center">
        You have not booked any tickets yet.
    </div>

    <!-- Booking Cards -->
    <div class="row g-4" th:each="ticket : ${bookings}">
        <div class="col-lg-6">
            <div class="booking-card">

                <div class="header d-flex justify-content-between align-items-center">
                    <h5 th:text="${ticket.movieName}"></h5>
                    <span class="badge bg-light text-dark"
                          th:text="'â‚¹ ' + ${ticket.ticketPrice}"></span>
                </div>

                <div class="p-4">
                    <p><strong>Theater:</strong> <span th:text="${ticket.theaterName}"></span></p>
                    <p><strong>Screen:</strong> <span th:text="${ticket.screenName}"></span></p>

                    <p>
                        <strong>Date:</strong> <span th:text="${ticket.showDate}"></span> |
                        <strong>Time:</strong> <span th:text="${ticket.showTiming}"></span>
                    </p>

                    <p>
                        <strong>Seats:</strong>
                        <span th:each="seat : ${ticket.seatNumber}" class="badge-seat"
                              th:text="${seat}"></span>
                    </p>

                    <p><strong>Tickets:</strong> <span th:text="${ticket.ticketCount}"></span></p>

                    <p><strong>Order ID:</strong> <span th:text="${ticket.orderId}"></span></p>

                    <div class="qr mt-3">
                        <img th:src="${ticket.qrUrl}" alt="QR Code">
                    </div>

                </div>

            </div>
        </div>
    </div>

    <div class="text-center mt-4">
        <a href="/" class="btn btn-outline-danger px-4">â¬… Back to Home</a>
    </div>

</div>

</body>
</html>
